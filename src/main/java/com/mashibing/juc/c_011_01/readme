synchronized的底层实现 hotspot里的实现

JDK早期的 重量级 - OS
	去找OS申请锁
	
后来的改进：	
锁升级的概念：
    我就是厕所所长 （一 二）  查找文章讲解 锁升级

sync (Object)
markword 记录这个线程ID （偏向锁）
如果线程争用：升级为 自旋锁（while true 循环询问是否锁释放了）（自旋锁 在用户态）

询问了 10次以后，如果还得不到这把锁  -》升级为重量级锁 - OS

执行时间短（加锁代码），线程数少，用自旋        （占cpu）
执行时间长（加锁代码），线程数多，用系统锁    （都等着，不占cpu）

-------------------------------------------------------
因为synchronized 有锁升级的过程 效率并不低
锁只能升级，不能降级